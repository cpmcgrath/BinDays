<phone:PhoneApplicationPage x:Class="CMcG.BinDays.ViewMain"
                            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
                            xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:local="clr-namespace:CMcG.BinDays"
                            mc:Ignorable="d"
                            FontFamily="{StaticResource PhoneFontFamilyNormal}"
                            FontSize="{StaticResource PhoneFontSizeNormal}"
                            Foreground="#7A7A7A"
                            SupportedOrientations="Portrait"  Orientation="Portrait"
                            shell:SystemTray.IsVisible="True">

    <shell:SystemTray.ProgressIndicator>
        <shell:ProgressIndicator IsIndeterminate="{Binding Status.IsBusy}"
                                 IsVisible="True"
                                 Text="{Binding Status.Action}" />
    </shell:SystemTray.ProgressIndicator>

    <Grid x:Name="LayoutRoot">
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.Background>
            <LinearGradientBrush EndPoint="1,0.5" StartPoint="0.5,0">
                <GradientStop Color="#ECECEC" Offset="0"/>
                <GradientStop Color="#DEDEE0" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid HorizontalAlignment="Stretch">
            <Grid.Background>
                <LinearGradientBrush EndPoint="1,0.5" StartPoint="0.5,0">
                    <GradientStop Color="#79C443" Offset="0"/>
                    <GradientStop Color="#A3FE5B" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <TextBlock Margin="20,0" FontSize="40" FontFamily="Segoe WP Light"
                       Foreground="White">
                <Run Text="BIN" FontWeight="Bold" />
                <Run Text="DAYS" />
            </TextBlock>
        </Grid>

        <phone:Pivot Foreground="#7A7A7A" Grid.Row="1" Margin="0,-20,0,0">
            <phone:PivotItem Header="DAYS">
                <Grid>
                    <ListBox ItemsSource="{Binding Days}" Foreground="#7A7A7A">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock Margin="20,0" FontSize="40" FontFamily="Segoe WP Light">
                                        <Run Text="{Binding Weekday}" FontWeight="Bold" />
                                        <Run Text="{Binding Date}" />
                                    </TextBlock>
                                    <ItemsControl ItemsSource="{Binding Bins}" Foreground="#7A7A7A"
                                                  ItemTemplate="{StaticResource RubbishBinVMStyle}" />
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </phone:PivotItem>

            <phone:PivotItem Header="BINS">
                <ItemsControl ItemsSource="{Binding Bins}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Click="EditBin" Style="{StaticResource CleanBtn}" Foreground="#7A7A7A" Padding="0">
                                <Grid Margin="0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <Grid VerticalAlignment="Center" HorizontalAlignment="Center" Grid.RowSpan="3"
                                          Height="50">
                                        <Path Name="General" Data="M103.54855,53.293762 C102.09592,53.331787 100.87961,54.466705 100.76898,55.946991 L93.533997,152.54401 C93.414978,154.12399 94.600983,155.49899 96.179993,155.617 L101.741,156.03299 C103.31998,156.15298 104.69598,154.96799 104.814,153.38901 L112.04898,56.790985 C112.168,55.212006 110.98199,53.834991 109.40298,53.71701 L103.84198,53.300995 C103.74329,53.293549 103.64539,53.291229 103.54855,53.293762 z M30.897614,53.292725 C30.80072,53.290222 30.702759,53.292542 30.604004,53.299988 L25.042999,53.716003 C23.463989,53.833984 22.278992,55.210999 22.397003,56.790009 L29.631989,153.388 C29.75,154.96799 31.125977,156.15201 32.705994,156.03201 L38.266998,155.616 C39.845978,155.49799 41.030975,154.12299 40.912994,152.543 L33.677979,55.945984 C33.567383,54.464752 32.351074,53.330658 30.897614,53.292725 z M65.040985,51 C63.384003,51 62.040985,52.342987 62.040985,54 L62.040985,155.33398 C62.040985,156.991 63.384003,158.33398 65.040985,158.33398 L70.873993,158.33398 C72.530975,158.33398 73.873993,156.991 73.873993,155.33398 L73.873993,54 C73.873993,52.342987 72.530975,51 70.873993,51 z M5.3329773,41.5 L127.832,41.5 115.99899,160.33301 C115.99899,160.33301 111.66599,168.66699 69.665985,168.66699 24.582977,168.66699 18.665985,160.5 18.665985,160.5 z M53,0 L82.832977,0 94.026001,18.832993 120.026,18.832993 133.64499,32.666992 0,32.666992 13.832977,18.832993 41.165985,18.832993 z"
                                              Fill="#70C546" Stretch="Uniform"
                                              Visibility="{Binding IsGeneralWaste, Converter={StaticResource VisibleConvert}}"/>
                                        <Path Name="Recycling" Data="M47.300079,116.61502 L88.177063,116.61502 88.177063,161.61301 C88.177063,161.61301 45.465057,161.49802 43.246063,161.49002 41.026062,161.48398 38.383087,160.246 36.91507,156.74197 31.929077,144.84097 35.554077,134.392 40.118073,126.48599 L45.771057,116.69498 47.239075,116.69302 C47.260071,116.66599 47.28006,116.63998 47.300079,116.61502 z M178.93707,108.54501 C146.85107,167.189 148.61307,164.24002 138.26907,164.24002 134.51907,164.24002 119.29007,164.24002 119.29007,164.24002 119.29007,164.24002 119.16507,170.49002 119.16507,174.36502 119.16507,178.24002 115.56506,177.36502 114.31506,175.24002 113.06506,173.11502 95.080078,142.61502 95.080078,142.61502 95.080078,142.61502 111.70508,114.74002 113.95508,110.86502 116.20508,106.99002 119.33008,109.24002 119.33008,110.86502 119.33008,112.49002 119.33008,119.24002&#xA;119.33008,119.24002 L150.83206,119.24002 C161.87408,119.07401 170.79007,117.53098 178.93707,108.54501 z M43.144073,63.668976 C43.144073,63.668976 58.973083,92.004974 61.203064,95.889984 63.434082,99.774017 59.922058,101.35703 58.515076,100.54398 57.107086,99.730988 51.262085,96.355988 51.262085,96.355988 L35.512085,123.63699 C30.135071,133.28299 27.012085,141.77499 30.722076,153.32602 -4.0219421,96.214996 -2.3499146,99.214996 2.8210754,90.258026 4.6970825,87.009979 12.311066,73.824005 12.311066,73.824005 12.311066,73.824005 6.9620667,70.58902 3.6060791,68.649994 0.25006104,66.712006 2.808075,64.03299 5.2730713,64.014984 7.7390747,63.993011 43.144073,63.668976 43.144073,63.668976 z M157.38907,54.641998 C157.38907,54.641998 178.64307,91.688995 179.74707,93.615021 180.85208,95.540985 181.10107,98.449005 178.80206,101.47098 170.98807,111.74002 160.12708,113.82602 150.99808,113.82602 L139.69107,113.82602 138.95508,112.556 C138.92108,112.55002 138.88907,112.54599 138.85608,112.54001 L118.41806,77.141998 z M57.961609,3.0294495 C58.573761,3.0235291 59.229004,3.0838928 59.927063,3.2229919 72.581085,5.743988 79.217072,14.59201 83.219086,22.797028 L88.176086,32.959015 87.357086,34.178009 C87.367065,34.209015 87.377075,34.240997 87.387085,34.272003 L64.53006,68.160004 27.22406,42.996979 C27.22406,42.996979 51.206085,7.6529846 52.452087,5.8169861 53.465271,4.3244324 55.308929,3.0550232 57.961609,3.0294495 z M66.228058,0 C133.00406,3.131012 129.58206,2.8399963 134.11606,12.136993 135.75906,15.508026 142.43408,29.194 142.43408,29.194 142.43408,29.194 148.10608,26.569 151.59006,24.870026 155.07208,23.17099 155.86307,26.790009 154.50107,28.845001 153.13907,30.899994 133.61008,60.43399 133.61008,60.43399 133.61008,60.43399 101.26706,57.711029 96.798065,57.386993 92.329071,57.064972 92.981079,53.269989 94.442078,52.556976 95.904083,51.844025 101.97006,48.886017&#xA;101.97006,48.886017 L88.162079,20.571991 C83.172058,10.720978 77.877075,3.3830261 66.228058,0 z"
                                              Fill="#70C546" Stretch="Uniform"
                                              Visibility="{Binding IsRecycling, FallbackValue=Collapsed, Converter={StaticResource VisibleConvert}}"/>
                                        <Path Name="Green" Data="M41.828999,82.712999 C70.648998,82.712999 91.162998,90.080003 102.804,104.619 115.58,120.568 113.506,139.357 112.519,144.69299 111.994,147.517 111.858,147.808 111.858,147.808 101.84,125.159 83.402998,102.976 40.663998,95.554002 67.497998,103.443 89.931998,126.273 102.105,151.058 L103.733,154.82001 C102.39,155.252 96.720999,156.832 90.129998,156.832 82.599998,156.832 75.351998,155.121 68.589999,151.74001 50.805998,142.871 46.864998,133.40199 40.903999,119.08 L40.579998,118.301 C35.143997,105.239 5.8089981,89.808999 5.5169983,89.655 L0,86.776002 6.1459961,85.805001 C19.108997,83.752 31.115997,82.712999 41.828999,82.712999 z M180.85799,0 L176.706,6.6449391 C176.48298,6.9979645 154.48692,42.476853 156.91493,60.12676 L157.06795,61.18181 C159.73196,80.537706 161.49796,93.334664 147.84991,114.32062 142.66788,122.29959 135.88589,128.78359 127.71185,133.58856 124.57979,135.42998 121.44658,136.83061 118.76764,137.85643 L118.29367,138.03301 118.31299,137.57982 C118.5481,130.42413 117.60486,120.1793 112.27287,109.93318 L111.42802,108.3821 111.81124,105.05124 C115.05951,79.348687 124.98809,53.949044 142.3129,35.485849 118.8729,55.36231 106.76343,75.404542 101.29122,94.65149 L101.06816,95.462159 99.898298,94.418885 C94.858185,90.131852 88.869643,86.660974 81.951289,84.013223 L80.849999,83.614785 80.981347,82.815713 C85.096317,60.457143 102.53359,40.105035 132.84587,22.284902 144.4839,15.446912 158.18093,8.9159271 173.56799,2.8669967 z"
                                              Fill="#70C546" Stretch="Uniform"
                                              Visibility="{Binding IsGreen, FallbackValue=Collapsed, Converter={StaticResource VisibleConvert}}"/>
                                    </Grid>

                                    <TextBlock FontSize="30" FontWeight="Bold"
                                               Text="{Binding BinType, FallbackValue='General Waste'}"
                                               FontFamily="Segoe WP Light"
                                               Grid.Column="2" />

                                    <TextBlock Text="{Binding Data.NextCollectionDate,
                                                              FallbackValue='Next collected on dddd d MMM',
                                                              StringFormat='{}Next collected on {0:dddd d MMM}'}"
                                               FontFamily="Segoe WP Light"
                                               Grid.Column="2" Grid.Row="1" FontSize="20" />

                                    <TextBlock Text="{Binding Data.Interval,
                                                              FallbackValue='Collected every 14 days',
                                                              StringFormat='{}Collected every {0} days'}"
                                               FontFamily="Segoe WP Light"
                                               Grid.Column="2" Grid.Row="2" FontSize="20" />
                                </Grid>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </phone:PivotItem>
        </phone:Pivot>
        <Button Grid.Row="2" Style="{StaticResource CleanBtn}"
                Foreground="#7A7A7A" Padding="0" HorizontalAlignment="Center"
                Visibility="{Binding IsTrial, Converter={StaticResource VisibleConvert}}"
                Click="OnGoPro">
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="20" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock FontSize="60" FontFamily="Segoe UI Semibold" Margin="0,-10"
                           Text="?" Grid.RowSpan="2" Foreground="#70C546" FontWeight="Bold" />

                <TextBlock FontSize="30" FontWeight="Bold"
                           Text="Why not go Pro?"
                           FontFamily="Segoe WP Light"
                           Grid.Column="2" />

                <TextBlock Text="Click here to find out why!"
                           FontFamily="Segoe WP Light"
                           Grid.Column="2" Grid.Row="1" FontSize="20" />
            </Grid>
        </Button>
    </Grid>
    <phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar IsVisible="True" IsMenuEnabled="True" BackgroundColor="#78C043" ForegroundColor="White">
            <shell:ApplicationBar.MenuItems>
                <shell:ApplicationBarMenuItem Text="rate app" Click="OnRateApp"/>
                <shell:ApplicationBarMenuItem Text="about" Click="OnRateApp"/>
            </shell:ApplicationBar.MenuItems>
            <shell:ApplicationBarIconButton IconUri="/Images/add.png" Text="add" Click="OnAdd"  />
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar>
</phone:PhoneApplicationPage>